# Generated by usvc-<%= version %>
# Feel free to adjust, it will not be overridden

FROM renderedtext/elixir:1.11.4

WORKDIR $HOME/<%= prj %>

ARG APP_NAME
ARG APP_VSN
ENV APP_NAME=${APP_NAME}
ENV TERM=xterm
ENV MIX_ENV=prod

COPY artifacts/${APP_NAME}-${APP_VSN}.tar.gz ${APP_NAME}.tar.gz

RUN tar -xzf ${APP_NAME}.tar.gz && \
  rm ${APP_NAME}.tar.gz

CMD trap 'exit' INT; bin/${APP_NAME} foreground
